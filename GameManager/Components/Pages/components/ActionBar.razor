@using GameManager.Enums
@using GameManager.Properties
@inherits MudComponentBase

<MudPaper @attributes="UserAttributes!" Class="@Class">
    <MudToolBar Class="align-center ml-0">
        <MudMenu Icon="@Icons.Material.Filled.FilterAlt"
                 AnchorOrigin="Origin.BottomCenter"
                 Class="mr-2">
            <MudMenuItem>
                <MudCheckBox T="bool"
                             @bind-Value="SearchFilterModel.SearchName">
                    @Resources.Home_Filter_GameName
                </MudCheckBox>
            </MudMenuItem>
            <MudMenuItem>
                <MudCheckBox T="bool"
                             @bind-Value="SearchFilterModel.SearchDeveloper">
                    @Resources.Home_Filter_Developer
                </MudCheckBox>
            </MudMenuItem>
            <MudMenuItem>
                <MudCheckBox T="bool"
                             @bind-Value="SearchFilterModel.SearchExePath">
                    @Resources.Home_Filter_ExePath
                </MudCheckBox>
            </MudMenuItem>
        </MudMenu>
        <MudTextField T="string"
                      @bind-Value="SearchText"
                      Immediate="true"
                      OnKeyDown="OnKeyDown"
                      Placeholder="Search">
        </MudTextField>
        <MudButton Variant="Variant.Outlined" StartIcon="@Icons.Material.Filled.Search" OnClick="OnSearch">Search</MudButton>
        <MudSpacer></MudSpacer>
        <MudButton Variant="Variant.Outlined"
                   Color="Color.Primary"
                   StartIcon="@Icons.Material.Filled.Refresh"
                   OnClick="OnRefresh">
            @Resources.Home_Refresh
        </MudButton>
        <MudPaper>
            <MudSelect T="SortOrder"
                       Class="ml-2 mr-2"
                       AdornmentIcon="@Icons.Material.Filled.FilterAlt"
                       AdornmentColor="Color.Primary"
                       AnchorOrigin="Origin.BottomCenter"
                       Label="Sort By"
                       SelectedValuesChanged="OnSortByChange"
                       @bind-Value="SortBy">
                @foreach (KeyValuePair<SortOrder, string> item in SortOrderDict)
                {
                    <MudSelectItem Value="@item.Key">@item.Value</MudSelectItem>
                }
            </MudSelect>
        </MudPaper>
        <MudButton Variant="Variant.Outlined" Color="Color.Primary" StartIcon="@Icons.Material.Filled.Add" OnClick="OnAddNewGame">@Resources.Home_AddGame</MudButton>
        <MudButton Class="ma-3" Variant="Variant.Outlined" StartIcon="@Icons.Material.Filled.Close" OnClick="OnDeleteClick">@Resources.Home_DeleteGame</MudButton>
    </MudToolBar>
</MudPaper>

<style>
    .mud-text-field {
        padding: 0px;
    }

    .mud-select {
        width: 150px;
    }
</style>