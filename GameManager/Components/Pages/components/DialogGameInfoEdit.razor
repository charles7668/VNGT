<MudDialog>
    <DialogContent>
        <MudPaper Elevation="0">
            <MudButton OnClick="OnInfoFetch" Color="Color.Primary" StartIcon="@Icons.Material.Filled.Download">Fetch</MudButton>
            <MudTextField @bind-Value="Model.GameName" For="@(() => Model.GameName)" />
            <MudTextField @bind-Value="Model.Vendor" For="@(() => Model.Vendor)" />
            <MudTextField ReadOnly="true" @bind-Value="Model.ExePath" For="@(() => Model.ExePath)" />
            <MudSelect Class="mt-2 mb-2"
                       @bind-Value="Model.ExeFile"
                       AnchorOrigin="Origin.BottomCenter" Variant="Variant.Outlined"
                       Label="Execution File">
                @foreach (var file in ExeFiles)
                {
                    <MudSelectItem Value="file"></MudSelectItem>
                }
            </MudSelect>
            <MudDatePicker @bind-Date="Model.DateTime" For="@(() => Model.DateTime)" Editable="true" ImmediateText="true" Placeholder="yyyy/MM/dd" DateFormat="yyyy/MM/dd" TextChanged="DatePickerTextChanged" HelperText="@_bound" Clearable="true" />
            <MudTextField Lines="5" MaxLines="8" @bind-Value="Model.Description" For="@(() => Model.Description)"></MudTextField>
            <MudStack Row="true">
                <MudInputLabel Class="d-flex align-center">Color:</MudInputLabel>
                <MudPaper Outlined="true" id="cover-container">
                    <MudImage Height="130" Width="100" ObjectFit="ObjectFit.Contain" Src="@CoverPath"></MudImage>
                </MudPaper>
                <MudStack Justify="Justify.Center">
                    <MudButton OnClick="UploadByUrl">Change</MudButton>
                </MudStack>
            </MudStack>
            <MudDivider />
            <MudPaper Elevation="0">
                <MudStack>
                    <MudStack Row="true">
                        <MudText Typo="Typo.caption">Launch Option:</MudText>
                        <MudCheckBox T="bool" @bind-Value="@Model.RunAsAdmin">RunAsAdmin</MudCheckBox>
                    </MudStack>
                    <MudStack Row="true">
                        <MudText Typo="Typo.caption">LE Option:</MudText>
                        <MudSelect @bind-Value="Model.LeConfig"
                                   AnchorOrigin="Origin.BottomCenter" Variant="Variant.Outlined">
                            @foreach (var config in LeConfigs)
                            {
                                <MudSelectItem Value="config" />
                            }
                        </MudSelect>
                    </MudStack>
                </MudStack>
            </MudPaper>
        </MudPaper>
    </DialogContent>
    <DialogActions>
        <MudButton Variant="Variant.Outlined"
                   Color="Color.Primary"
                   OnClick="OnSave">
            Save
        </MudButton>
        <MudButton Variant="Variant.Outlined"
                   OnClick="OnCancel">
            Cancel
        </MudButton>
    </DialogActions>
</MudDialog>


<style>
    .mud-dialog {
        width: @DIALOG_WIDTH;
    }

    .mud-card {
        width: 400px;
    }

    .mud-typography {
        align-content: center;
    }
</style>