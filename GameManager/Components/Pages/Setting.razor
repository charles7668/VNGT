@page "/setting"
@using GameManager.Properties

<div>
    <MudForm Class="d-flex flex-column pa-2" Model="@AppSetting">
        <MudText Typo="Typo.h6">@Resources.Settings_Caption_Setting</MudText>
        <MudDivider Class="flex-grow-0" />
        <MudStack Class="flex-grow-1" Elevation="0">
            <MudElement Class="mt-2">
                <MudText>@Resources.Settings_Caption_Language</MudText>
                <MudSelect T="string"
                           @bind-Value="AppSetting.Localization"
                           AnchorOrigin="Origin.BottomCenter">
                    <MudSelectItem Value="@("en-US")">English</MudSelectItem>
                    <MudSelectItem Value="@("zh-cn")">Chinese Simplified</MudSelectItem>
                    <MudSelectItem Value="@("zh-tw")">Chinese Traditional</MudSelectItem>
                </MudSelect>
            </MudElement>
            <MudPaper Class="d-flex" Elevation="0">
                <MudTextField T="string"
                              Label="Locale Emulator Path"
                              For="() => AppSetting.LocaleEmulatorPath!"
                              @bind-Value="AppSetting.LocaleEmulatorPath">
                </MudTextField>
                <MudButton OnClick="ScanLocaleEmulator" Variant="Variant.Outlined">@Resources.Settings_Button_ScanFromInstalled</MudButton>
            </MudPaper>
            <MudElement>
                <MudCheckBox T="bool" @bind-Value="AppSetting.IsAutoFetchInfoEnabled">@Resources.Settings_Button_EnableAutoFetchInfoOnScan</MudCheckBox>
            </MudElement>
        </MudStack>
        <MudToolBar Class="flex-grow-0 justify-end">
            <MudButton OnClick="UpdateSetting" Color="Color.Primary" Variant="Variant.Filled" FullWidth="true">@Resources.Dialog_Button_Save</MudButton>
        </MudToolBar>
    </MudForm>
</div>